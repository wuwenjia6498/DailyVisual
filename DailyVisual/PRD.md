# DailyVisual 产品需求文档 (PRD)

| 项目名称 | DailyVisual (团队协作版) |
| :--- | :--- |
| **版本号** | v2.0 (Team & Mobile Support) |
| **产品定位** | 极简风格的团队共享视觉日记与素材库 |
| **适用平台** | Web (桌面端) + Mobile (移动端适配) |
| **核心用户** | 公司/团队内部成员 |
| **权限模式** | 封闭式系统 (管理员预设账号 + 仅登录可见) |

## 1. 产品概述 (Overview)
DailyVisual 是一款支持多端访问的团队协作应用。团队成员可以通过手机或电脑，以“日期”为维度上传图片和文字，形成一个按时间轴排列的团队视觉档案。它既是团队的“每日工作/生活记录”，也是一个可供全员浏览、下载素材的共享资源池。

## 2. 用户系统与权限 (User & Auth)

### 2.1 登录机制
* **注册模式：** 关闭公开注册。采用**管理员预设模式**（由管理员在后台添加账号）。
* **登录方式：** 邮箱 + 密码。
* **登录页：** 极简设计，仅包含邮箱、密码输入框和登录按钮。无“注册”或“忘记密码”链接。

### 2.2 成员权限
* **全员可见：** 任何登录用户都可以浏览历史上所有的日记内容。
* **全员可发：** 任何登录用户都可以在任意日期发布内容。
* **内容归属：**
    * 每条内容（Entry）必须关联发布者 ID。
    * 前端展示时需显示发布者的昵称（Display Name）或头像。
* **编辑/删除：** 用户只能修改或删除**自己**发布的内容，无法操作他人的记录。

## 3. 功能模块详解 (Functional Requirements)

### 3.1 移动端与桌面端适配策略 (Responsive Design)

| 模块 | 桌面端 (Desktop) | 移动端 (Mobile) |
| :--- | :--- | :--- |
| **核心布局** | **左右分栏**：左侧固定日历，右侧内容流 | **单栏流式**：顶部日期导航，下方内容流 |
| **日历导航** | 完整月视图，点击日期切换右侧内容 | 默认收起，点击顶部日期可下拉选择或左右滑动切换 |
| **添加入口** | 页面顶部显著位置的“添加记录”按钮 | 屏幕右下角悬浮按钮 (FAB) |

### 3.2 每日内容流 (Daily Feed)
* **展示逻辑：** 选中某天后，按时间倒序/正序展示当天所有成员发布的内容。
* **空状态：** 若当天无内容，显示极简插画或提示语“No stories yet”。
* **条目样式 (Card Style)：**
    * **头部：** 发布者名字 + 发布时间 (例如 14:30)。
    * **图片区：**
        * 桌面端：网格布局 (Grid)，点击可查看大图 (Lightbox)。
        * 移动端：网格或横向滑动查看。
    * **文字区：** 自动识别 URL 链接，长文本支持折叠/展开。
    * **操作区：** 复制文字按钮、下载图片按钮。

### 3.3 内容发布与上传 (Create & Upload)
* **交互：** 点击添加按钮 -> 弹出模态框 (Modal) 或 抽屉 (Drawer)。
* **输入项：**
    * **图片：** 支持拖拽 (桌面) 或 系统相册选择 (手机)。支持多选上传。
    * **文字：** 多行文本域。
* **状态反馈：** 上传过程中需展示进度条或 Loading 状态，禁止重复提交。

### 3.4 资源下载与利用
* **图片下载：** 提供“下载原图”功能。
* **文字复制：** 提供“一键复制”功能，点击后提示“Copied to clipboard”。

## 4. UI/UX 设计规范 (Design Specs)

* **视觉风格：** **极简黑白 (Minimalist B&W)**。
    * 去除多余装饰，用留白 (Whitespace) 和 黑色细边框 (1px Borders) 构建层级。
    * **强调色：** 仅使用黑色或深灰，报错使用红色。
* **字体策略：**
    * **标题 (日期/Logo)：** 衬线体 (Serif)，如 *Playfair Display*，营造杂志质感。
    * **正文/界面：** 无衬线体 (Sans-serif)，如 *Inter*，保证多屏阅读性。
* **移动端体验：**
    * 触控区域优化：按钮高度至少 44px。
    * 防止输入框缩放：Input 字号设置 16px 以上。

## 5. 数据与技术要求 (Technical Constraints)

* **数据库 (Supabase)：**
    * `profiles` 表：存储用户 ID 和 昵称 (Display Name)。
    * `entries` 表：存储内容、日期，外键关联 `profiles`。
    * `images` 表：存储图片 URL，外键关联 `entries`。
* **存储 (Storage)：**
    * Bucket: `images` (Public)。
    * 路径规划：建议按 `user_id/date/filename` 结构存储，防止文件名冲突。
* **安全性 (RLS Policies)：**
    * `SELECT`: 对所有 Authenticated 用户开放。
    * `INSERT`: 对所有 Authenticated 用户开放。
    * `UPDATE/DELETE`: 仅限 `auth.uid() == user_id` 的记录。

---